{
  "openapi": "3.0.1",
  "info": {
    "title": "Payment Options API",
    "description": "API for generating Hosted Payment Page (HPP) links and processing payments.",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://api-dev.paymentoptions.com/api/v1"
    }
  ],
  "security": [
    {
      "apiKeyAuth": [],
      "xApiKeyAuth": []
    }
  ],
  "paths": {
  "/api/v1/server-to-server-interface/hpp/generate/link": {
    "post": {
      "summary": "Generate HPP Link",
      "description": "This endpoint allows you to generate a Hosted Payment Page (HPP) link.",
      "operationId": "generateHppLink",
      "requestBody": {
        "description": "The request payload to generate an HPP link.",
        "required": false,
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "return_url": {
                  "type": "object",
                  "properties": {
                      "webhook_url": { 
                        "type": "string", 
                        "example": "https://webhook.site/", 
                        "description": "The webhook URL where payment status updates will be sent." 
                      },
                      "success_url": { 
                        "type": "string", 
                        "example": "http://www.successurl.com/", 
                        "description": "The URL to redirect the cardholder to after a successful payment." 
                      },
                      "decline_url": { 
                        "type": "string", 
                        "example": "http://www.declineurl.com/", 
                        "description": "The URL to redirect the cardholder to after a failed payment." 
                      },
                      "cancel_url": { 
                        "type": "string", 
                        "example": "http://cancelurl.com/", 
                        "description": "The URL to redirect the cardholder to if the payment is canceled." 
                      }
                    },

                  "description": "A JSON object containing the Return URL."
                },
                "amount": { 
                  "anyOf": [
                            { "type": "string", "pattern": "^[0-9]+(\\.[0-9]{1,2})?$", "example": "1000" },
                            { "type": "string", "example": "" },
                            { "type": "null" }
                          ],
                  "description": "The amount of the transaction. If left blank, the cardholder can manually enter the amount in the HPP."
                },
                "currency": { 
                  "type": "string", 
                  "example": "JPY",
                  "description": "The abbreviation of the processing currency (e.g., JPY for Japanese Yen)." 
                },
                "merchant_id": { 
                  "type": "string", 
                  "example": "JP00000275",
                  "description": "The merchant ID (DASMID)." 
                },
                "merchant_email": { 
                  "type": "string", 
                  "example": "merchant@testemail.com",
                  "description": "The email address of the merchant." 
                },
                "merchant_txn_ref": { 
                  "type": "string", 
                  "example": "2003089893366DTEST",
                  "description": "The merchant transaction reference ID." 
                },
                "payment_method": {
                  "type": "object",
                  "properties": {
                    "type": { 
                      "type": "string", 
                      "example": "scheme",
                      "description": "The payment method type, e.g., 'scheme' for credit cards." 
                    },
                    "store_payment_method": { 
                      "type": "boolean", 
                      "example": true,
                      "description": "True to generate a token, or False not to generate one." 
                    }
                  },
                  "description": "A JSON object containing the Payment Method."
                },
                "billing_address": {
                  "type": "object",
                  "properties": {
                    "country": { 
                      "type": "string", 
                      "example": "JP",
                      "description": "The cardholder’s billing country code." 
                    },
                    "email": { 
                      "type": "string", 
                      "example": "billing@testemail.com",
                      "description": "The cardholder’s billing email address." 
                    },
                    "phone": { 
                      "type": "string", 
                      "example": "8112345678",
                      "description": "The cardholder’s billing phone number." 
                    },
                    "address1": { 
                      "type": "string", 
                      "example": "1-2-3 Shinjuku",
                      "description": "The cardholder’s billing address line." 
                    },
                    "city": { 
                      "type": "string", 
                      "example": "Shinjuku-ku",
                      "description": "The cardholder’s billing city." 
                    },
                    "state": { 
                      "type": "string", 
                      "example": "Tokyo",
                      "description": "The cardholder’s billing state." 
                    },
                    "postal_code": { 
                      "type": "string", 
                      "example": "1600022",
                      "description": "The cardholder’s billing postal code." 
                    }
                  },
                  "description": "A JSON object containing the billing address of the cardholder."
                },
                "shipping_address": {
                  "type": "object",
                  "properties": {
                    "country": { 
                      "type": "string", 
                      "example": "JP",
                      "description": "The cardholder’s shipping country code." 
                    },
                    "email": { 
                      "type": "string", 
                      "example": "shipping@testemail.com",
                      "description": "The cardholder’s shipping email address." 
                    },
                    "phone": { 
                      "type": "string", 
                      "example": "8112345678",
                      "description": "The cardholder’s shipping phone number." 
                    },
                    "address1": { 
                      "type": "string", 
                      "example": "1-2-3 Shinjuku",
                      "description": "The cardholder’s shipping address line." 
                    },
                    "city": { 
                      "type": "string", 
                      "example": "Shinjuku-ku",
                      "description": "The cardholder’s shipping city." 
                    },
                    "state": { 
                      "type": "string", 
                      "example": "Tokyo",
                      "description": "The cardholder’s shipping state." 
                    },
                    "postal_code": { 
                      "type": "string", 
                      "example": "1600022",
                      "description": "The cardholder’s shipping postal code." 
                    }
                  },
                  "description": "A JSON object containing the shipping address of the cardholder."
                }
              },
              "required": ["return_url", "amount", "currency", "merchant_id", "merchant_email"]
            }
          }
        }
      },
      "responses": {
        "200": {
          "description": "HPP link generated successfully",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
  "id": {
    "type": "string",
    "example": "e7abc56b-856a-4ee8-a1a5-70608d84d81c",
    "description": "The unique identifier for the generated HPP link."
  },
  "url": {
    "type": "string",
    "example": "https://checkout-dev.paymentoptions.com/jp/HostedPaymentPage/O5dcEznp",
    "description": "The URL of the Hosted Payment Page (HPP) for the transaction."
  },
  "amount": {
    "type": "integer",
    "example": 1000,
    "description": "The transaction amount processed on the HPP."
  },
  "currency": {
    "type": "string",
    "example": "JPY",
    "description": "The currency in which the transaction is processed (e.g., JPY for Japanese Yen)."
  },
  "merchant_txn_ref": {
    "type": "string",
    "example": "2003089893366DTEST",
    "description": "The merchant-provided unique reference ID for the transaction."
  },
  "merchant_id": {
    "type": "string",
    "example": "JP00000275",
    "description": "The unique identifier of the merchant (DASMID)."
  },
  "merchant_email": {
    "type": "string",
    "example": "merchant@testemail.com",
    "description": "The email address associated with the merchant account."
  },
  "return_url": {
    "type": "object",
    "description": "A JSON object containing the Return URLs for different transaction states.",
    "properties": {
      "webhook_url": {
        "type": "string",
        "example": "https://webhook.site/",
        "description": "The webhook URL for sending transaction status updates."
      },
      "success_url": {
        "type": "string",
        "example": "http://www.successurl.com/",
        "description": "The URL to redirect to after a successful payment."
      },
      "decline_url": {
        "type": "string",
        "example": "http://www.declineurl.com/",
        "description": "The URL to redirect to after a failed payment."
      },
      "cancel_url": {
        "type": "string",
        "example": "http://cancelurl.com/",
        "description": "The URL to redirect to after the payment is cancelled."
      }
    }
  },
  "billing_address": {
    "type": "object",
    "description": "A JSON object containing the cardholder's billing address details.",
    "properties": {
      "city": {
        "type": "string",
        "example": "Shinjuku-ku",
        "description": "The city associated with the cardholder's billing address."
      },
      "email": {
        "type": "string",
        "example": "billing@testemail.com",
        "description": "The email address associated with the cardholder's billing details."
      },
      "phone": {
        "type": "string",
        "example": "8112345678",
        "description": "The phone number associated with the cardholder's billing details."
      },
      "state": {
        "type": "string",
        "example": "Tokyo",
        "description": "The state or region associated with the cardholder's billing address."
      },
      "country": {
        "type": "string",
        "example": "JP",
        "description": "The country code of the cardholder's billing address."
      },
      "address1": {
        "type": "string",
        "example": "1-2-3 Shinjuku",
        "description": "The primary address line for the cardholder's billing address."
      },
      "postal_code": {
        "type": "string",
        "example": "1600022",
        "description": "The postal or ZIP code of the cardholder's billing address."
      }
    }
  },
  "shipping_address": {
    "type": "object",
    "description": "A JSON object containing the cardholder's shipping address details.",
    "properties": {
      "city": {
        "type": "string",
        "example": "Shinjuku-ku",
        "description": "The city associated with the cardholder's shipping address."
      },
      "email": {
        "type": "string",
        "example": "shipping@testemail.com",
        "description": "The email address associated with the cardholder's shipping details."
      },
      "phone": {
        "type": "string",
        "example": "8112345678",
        "description": "The phone number associated with the cardholder's shipping details."
      },
      "state": {
        "type": "string",
        "example": "Tokyo",
        "description": "The state or region associated with the cardholder's shipping address."
      },
      "country": {
        "type": "string",
        "example": "JP",
        "description": "The country code of the cardholder's shipping address."
      },
      "address1": {
        "type": "string",
        "example": "1-2-3 Shinjuku",
        "description": "The primary address line for the cardholder's shipping address."
      },
      "postal_code": {
        "type": "string",
        "example": "1600022",
        "description": "The postal or ZIP code of the cardholder's shipping address."
      }
    }
  }
}

              }
            }
          }
        },
        "400": {
          "description": "Invalid request"
        }
      }
    }
  }
},
"components": {
  "securitySchemes": {
    "apiKeyAuth": {
      "type": "apiKey",
      "name": "Authorization",
      "in": "header",
      "description": "API Key for Authorization. Format: 'Basic YOUR_API_KEY_HERE'"
    },
    "xApiKeyAuth": {
      "type": "apiKey",
      "name": "x-api-key",
      "in": "header",
      "description": "API Key specific to x-api-key."
    }
  }
}

}